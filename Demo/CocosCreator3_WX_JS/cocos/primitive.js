System.register(["./coordinates-converts-utils-bf8713a9.js","./deprecated-3.0.0-f3f53c89.js","./json-asset-0797cbb7.js","./find-5191dd26.js","./create-mesh-c76737d1.js","./mesh-3d4ecfd0.js","./cylinder-0402b698.js"],(function(n){"use strict";var i,t,s,e,o,r,a,u,h,v,c,f,p,d,m;return{setters:[function(n){i=n.cD,t=n.b2,s=n.bE,e=n.e2,o=n.ec,r=n.e3,a=n.e5,u=n.l,h=n.e7,v=n.e8,c=n.ea,f=n.e9},function(){},function(){},function(){},function(n){p=n.c},function(n){d=n.M},function(n){m=n.c}],execute:function(){function l(n){return void 0===(n=n||{}).includeNormal&&(n.includeNormal=!0),void 0===n.includeUV&&(n.includeUV=!0),n}var M,P,g,w,x,y,b,I,S,z=new t,E=new t,R=new t,L=new t,N=new t,A=new t,O=new t,U=new t,j=new t,T=new t,_=new t,C=new t,D=new t(0,0,0),B=new t(0,0,0),V=new t(0,0,0),q=new t(0,0,0),G=new t(0,0,0),X=new t(0,0,0),H=new t(0,0,0),Q=new t(0,0,0),W=new t(0,0,0),Y=Object.freeze({__proto__:null,box:function(n){var i=(n=n||{}).widthSegments||1,s=n.heightSegments||1,e=n.lengthSegments||1,o=(n.width||1)/2,r=(n.height||1)/2,a=(n.length||1)/2,u=[t.set(N,-o,-r,a),t.set(A,o,-r,a),t.set(O,o,r,a),t.set(U,-o,r,a),t.set(j,o,-r,-a),t.set(T,-o,-r,-a),t.set(_,-o,r,-a),t.set(C,o,r,-a)],h=[[2,3,1],[4,5,7],[7,6,2],[1,0,4],[1,4,2],[5,0,6]],v=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],c=[[-1,0,0,1],[-1,0,0,1],[-1,0,0,1],[-1,0,0,1],[0,0,-1,1],[0,0,1,1]],f=[],p=[],d=[],m=[],l=[],M=new t(-o,-r,-a),P=new t(o,r,a),g=Math.sqrt(o*o+r*r+a*a);function w(n,i,s){var e,o,r,a,M=f.length/3,P=h[n],g=v[n],w=c[n];for(a=0;a<=s;a++)for(r=0;r<=i;r++)if(e=r/i,o=a/s,t.lerp(z,u[P[0]],u[P[1]],e),t.lerp(E,u[P[0]],u[P[2]],o),t.subtract(R,E,u[P[0]]),t.add(L,z,R),f.push(L.x,L.y,L.z),p.push(g[0],g[1],g[2]),d.push(e,o),m.push(w[0],w[1],w[2],w[3]),r<i&&a<s){var x=i+1,y=r+a*x,b=r+(a+1)*x,I=r+1+(a+1)*x,S=r+1+a*x;l.push(M+y,M+S,M+b),l.push(M+b,M+S,M+I)}}return w(0,i,s),w(4,e,s),w(1,i,s),w(5,e,s),w(3,i,e),w(2,i,e),{positions:f,normals:p,uvs:d,tangents:m,indices:l,minPos:M,maxPos:P,boundingRadius:g}},cone:function(n,i,t){return void 0===n&&(n=.5),void 0===i&&(i=1),void 0===t&&(t={}),m(0,n,i,t)},cylinder:m,plane:function(n){var i=function(n){return(n=l(n)).width=n.width||10,n.length=n.length||10,n.widthSegments=n.widthSegments||10,n.lengthSegments=n.lengthSegments||10,n}(n),s=i.width,e=i.length,o=i.widthSegments,r=i.lengthSegments,a=.5*s,u=.5*e,h=[],v=[],c=[],f=new t(-a,0,-u),p=new t(a,0,u),d=Math.sqrt(s*s+e*e);t.set(G,-a,0,u),t.set(X,a,0,u),t.set(H,-a,0,-u);for(var m=0;m<=r;m++)for(var M=0;M<=o;M++){var P=M/o,g=m/r;if(t.lerp(D,G,X,P),t.lerp(B,G,H,g),t.subtract(V,B,G),t.add(q,D,V),h.push(q.x,q.y,q.z),i.includeUV&&v.push(P,g),M<o&&m<r){var w=o+1,x=M+m*w,y=M+(m+1)*w,b=M+1+(m+1)*w,I=M+1+m*w;c.push(x,I,y),c.push(I,b,y)}}var S={positions:h,indices:c,minPos:f,maxPos:p,boundingRadius:d};if(i.includeNormal){var z=(r+1)*(o+1),E=new Array(3*z);S.normals=E;for(var R=0;R<z;++R)E[3*R+0]=0,E[3*R+1]=1,E[3*R+2]=0}return i.includeUV&&(S.uvs=v),S},quad:function(n){var i=l(n),t={positions:[-.5,-.5,0,-.5,.5,0,.5,.5,0,.5,-.5,0],indices:[0,3,1,3,2,1],minPos:{x:-.5,y:-.5,z:0},maxPos:{x:.5,y:.5,z:0},boundingRadius:Math.sqrt(.5)};return!1!==i.includeNormal&&(t.normals=[0,0,1,0,0,1,0,0,1,0,0,1]),!1!==i.includeUV&&(t.uvs=[0,0,0,1,1,1,1,0]),t},sphere:function(n,i){void 0===n&&(n=.5),void 0===i&&(i={});for(var s=void 0!==i.segments?i.segments:32,e=[],o=[],r=[],a=[],u=new t(-n,-n,-n),h=new t(n,n,n),v=n,c=0;c<=s;++c)for(var f=c*Math.PI/s,p=Math.sin(f),d=-Math.cos(f),m=0;m<=s;++m){var l=2*m*Math.PI/s-Math.PI/2,M=Math.sin(l)*p,P=d,g=Math.cos(l)*p,w=m/s,x=c/s;if(e.push(M*n,P*n,g*n),o.push(M,P,g),r.push(w,x),c<s&&m<s){var y=s+1,b=y*c+m,I=y*(c+1)+m,S=y*(c+1)+m+1,z=y*c+m+1;a.push(b,z,I),a.push(z,S,I)}}return{positions:e,indices:a,normals:o,uvs:r,minPos:u,maxPos:h,boundingRadius:v}},torus:function(n,i,s){void 0===n&&(n=.4),void 0===i&&(i=.1),void 0===s&&(s={});for(var e=s.radialSegments||32,o=s.tubularSegments||32,r=s.arc||2*Math.PI,a=[],u=[],h=[],v=[],c=new t(-n-i,-i,-n-i),f=new t(n+i,i,n+i),p=n+i,d=0;d<=e;d++)for(var m=0;m<=o;m++){var l=m/o,M=d/e,P=l*r,g=M*Math.PI*2,w=(n+i*Math.cos(g))*Math.sin(P),x=i*Math.sin(g),y=(n+i*Math.cos(g))*Math.cos(P),b=Math.sin(P)*Math.cos(g),I=Math.sin(g),S=Math.cos(P)*Math.cos(g);if(a.push(w,x,y),u.push(b,I,S),h.push(l,M),m<o&&d<e){var z=o+1,E=z*d+m,R=z*(d+1)+m,L=z*(d+1)+m+1,N=z*d+m+1;v.push(E,N,R),v.push(N,L,R)}}return{positions:a,normals:u,uvs:h,indices:v,minPos:c,maxPos:f,boundingRadius:p}},capsule:function(n,i,s,e){void 0===n&&(n=.5),void 0===i&&(i=.5),void 0===s&&(s=2),void 0===e&&(e={});var o=s-n-i,r=e.sides||32,a=e.heightSegments||32,u=i/s,h=o/s,v=n/s,c=Math.floor(a*u),f=Math.floor(a*v),p=Math.floor(a*h),d=o+i-s/2,m=i-s/2,l=i-s/2,M=e.arc||2*Math.PI,P=[],g=[],w=[],x=[],y=Math.max(n,i),b=new t(-y,-s/2,-y),I=new t(y,s/2,y),S=s/2,z=0,E=[];return function(){for(var n=0;n<=c;++n)for(var t=n*Math.PI/c/2,s=Math.sin(t),e=-Math.cos(t),o=0;o<=r;++o){var u=2*o*Math.PI/r-Math.PI/2,h=Math.sin(u)*s,v=e,f=Math.cos(u)*s,p=o/r,d=n/a;if(P.push(h*i,v*i+l,f*i),g.push(h,v,f),w.push(p,d),n<c&&o<r){var m=r+1,M=m*n+o,y=m*(n+1)+o,b=m*(n+1)+o+1,I=m*n+o+1;x.push(M,I,y),x.push(I,b,y)}++z}}(),function(){for(var s=(n-i)/o,e=0;e<=p;e++){for(var a=[],v=e/p,c=v*(n-i)+i,f=0;f<=r;++f){var d=f/r,l=v*h+u,y=d*M-M/4,b=Math.sin(y),I=Math.cos(y);P.push(c*b),P.push(v*o+m),P.push(c*I),t.normalize(Q,t.set(W,b,-s,I)),g.push(Q.x),g.push(Q.y),g.push(Q.z),w.push(d,l),a.push(z),++z}E.push(a)}for(var S=0;S<p;++S)for(var R=0;R<r;++R){var L=E[S][R],N=E[S+1][R],A=E[S+1][R+1],O=E[S][R+1];x.push(L),x.push(O),x.push(N),x.push(O),x.push(A),x.push(N)}}(),function(){for(var i=0;i<=f;++i)for(var t=i*Math.PI/f/2+Math.PI/2,s=Math.sin(t),e=-Math.cos(t),o=0;o<=r;++o){var u=2*o*Math.PI/r-Math.PI/2,h=Math.sin(u)*s,c=e,m=Math.cos(u)*s,l=o/r,M=i/a+(1-v);if(P.push(h*n,c*n+d,m*n),g.push(h,c,m),w.push(l,M),i<f&&o<r){var y=r+1,b=y*i+o+E[p][r]+1,I=y*(i+1)+o+E[p][r]+1,S=y*(i+1)+o+1+E[p][r]+1,z=y*i+o+1+E[p][r]+1;x.push(b,z,I),x.push(z,S,I)}}}(),{positions:P,normals:g,uvs:w,indices:x,minPos:b,maxPos:I,boundingRadius:S}},circle:function(n){var t=function(n){return(n=l(n)).segments=64,n}(n).segments,s=new Array(3*(t+1));s[0]=0,s[1]=0,s[2]=0;var e=new Array(1+2*t);e[0]=0;for(var o=2*Math.PI/t,r=0;r<t;++r){var a=o*r,u=Math.cos(a),h=Math.sin(a),v=3*(r+1);s[v+0]=u,s[v+1]=h,s[v+2]=0;var c=2*r;e[1+c]=r+1,e[1+(c+1)]=r+2}return t>0&&(e[e.length-1]=1),{positions:s,indices:e,minPos:{x:1,y:1,z:0},maxPos:{x:-1,y:-1,z:0},boundingRadius:1,primitiveMode:i.TRIANGLE_FAN}},translate:function(n,i){for(var t=i.x||0,s=i.y||0,e=i.z||0,o=Math.floor(n.positions.length/3),r=0;r<o;++r){var a=3*r,u=3*r+1,h=3*r+2;n.positions[a]=n.positions[a]+t,n.positions[u]=n.positions[u]+s,n.positions[h]=n.positions[h]+e}return n.minPos&&(n.minPos.x+=t,n.minPos.y+=s,n.minPos.z+=e),n.maxPos&&(n.maxPos.x+=t,n.maxPos.y+=s,n.maxPos.z+=e),n},scale:function(n,i){for(var t=i.x||0,s=i.y||0,e=i.z||0,o=Math.floor(n.positions.length/3),r=0;r<o;++r){var a=3*r,u=3*r+1,h=3*r+2;n.positions[a]*=t,n.positions[u]*=s,n.positions[h]*=e}return n.minPos&&(n.minPos.x*=t,n.minPos.y*=s,n.minPos.z*=e),n.maxPos&&(n.maxPos.x*=t,n.maxPos.y*=s,n.maxPos.z*=e),n.boundingRadius=Math.max(Math.max(t,s),e),n},wireframed:function(n){var t=n.indices;if(!t)return n;if(n.primitiveMode&&n.primitiveMode!==i.TRIANGLE_LIST)return n;for(var s=[[0,1],[1,2],[2,0]],e=[],o={},r=0;r<t.length;r+=3)for(var a=0;a<3;++a){var u=t[r+s[a][0]],h=t[r+s[a][1]],v=u>h?h<<16|u:u<<16|h;void 0===o[v]&&(o[v]=0,e.push(u,h))}return n.indices=e,n.primitiveMode=i.LINE_LIST,n},wireframe:function(n){for(var i=[[0,1],[1,2],[2,0]],t=[],s={},e=0;e<n.length;e+=3)for(var o=0;o<3;++o){var r=n[e+i[o][0]],a=n[e+i[o][1]],u=r>a?a<<16|r:r<<16|a;void 0===s[u]&&(s[u]=0,t.push(r,a))}return t},invWinding:function(n){for(var i=[],t=0;t<n.length;t+=3)i.push(n[t],n[t+2],n[t+1]);return i},toWavefrontOBJ:function(n,t){if(void 0===t&&(t=1),!n.indices||!n.uvs||!n.normals||void 0!==n.primitiveMode&&n.primitiveMode!==i.TRIANGLE_LIST)return"";for(var s=n.positions,e=n.uvs,o=n.normals,r=n.indices,a=function(n){return r[n]+1+"/"+(r[n]+1)+"/"+(r[n]+1)},u="",h=0;h<s.length;h+=3)u+="v "+s[h]*t+" "+s[h+1]*t+" "+s[h+2]*t+"\n";for(var v=0;v<e.length;v+=2)u+="vt "+e[v]+" "+e[v+1]+"\n";for(var c=0;c<o.length;c+=3)u+="vn "+o[c]+" "+o[c+1]+" "+o[c+2]+"\n";for(var f=0;f<r.length;f+=3)u+="f "+a(f)+" "+a(f+1)+" "+a(f+2)+"\n";return u},normals:function(n,i,t){void 0===t&&(t=1);for(var s=new Array(2*n.length),e=0;e<n.length/3;++e){var o=3*e,r=6*e;s[r+0]=n[o+0],s[r+1]=n[o+1],s[r+2]=n[o+2],s[r+3]=n[o+0]+i[o+0]*t,s[r+4]=n[o+1]+i[o+1]*t,s[r+5]=n[o+2]+i[o+2]*t}return s},applyDefaultGeometryOptions:l});n("primitives",Y),function(n){n[n.BOX=0]="BOX",n[n.SPHERE=1]="SPHERE",n[n.CYLINDER=2]="CYLINDER",n[n.CONE=3]="CONE",n[n.CAPSULE=4]="CAPSULE",n[n.TORUS=5]="TORUS",n[n.PLANE=6]="PLANE",n[n.QUAD=7]="QUAD"}(S||(S={})),s(S);var F=n("Primitive",(M=e("cc.Primitive"),P=o(S),M((I=b=function(n){function i(i){var t;return void 0===i&&(i=S.BOX),t=n.call(this)||this,h(t,"type",x,v(t)),h(t,"info",y,v(t)),t.type=i,t}return r(i,n),i.prototype.onLoaded=function(){p(Y[S[this.type].toLowerCase()](this.info),this)},i}(d),b.PrimitiveType=S,x=a((w=I).prototype,"type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.BOX}}),y=a(w.prototype,"info",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=w))||g));u.Primitive=F,u.primitives=Y}}}));
